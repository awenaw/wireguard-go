# WireGuard-Go 源码注释

这个目录包含了 WireGuard-Go 核心源码的详细中文注释版本。

## 文件说明

- `device_commented.go` - Device 结构体的详细注释，包含设备生命周期管理、网络绑定、对等方管理等核心功能
- `peer_commented.go` - Peer 结构体的详细注释，包含对等方连接管理、数据传输、握手处理等功能

## 主要内容

### Device (设备)
- **状态管理**: 设备的上线/下线/关闭状态转换
- **网络管理**: UDP 套接字、端口监听、防火墙标记
- **对等方管理**: 所有连接的对等方映射和生命周期
- **队列系统**: 加密/解密/握手的流水线处理
- **内存池**: 高效的内存分配和重用机制

### Peer (对等方)
- **连接管理**: 单个对等方的完整生命周期
- **数据传输**: 数据包的发送和接收处理
- **握手处理**: WireGuard Noise 协议握手
- **定时器系统**: 重传、保活、密钥更新定时器
- **端点管理**: 网络端点和漫游功能

## 使用说明

这些注释文件使用独立的包名 `device_comments`，不会与原始代码产生冲突。可以在 VSCode 中直接阅读，配合语法高亮更好理解 WireGuard 的实现原理。